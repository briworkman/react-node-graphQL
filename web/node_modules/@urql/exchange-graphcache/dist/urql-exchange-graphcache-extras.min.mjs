import{stringifyVariables as e}from"@urql/core";import{_ as r}from"./08e6d3e1.min.mjs";var t={__typename:"PageInfo",endCursor:null,startCursor:null,hasNextPage:!1,hasPreviousPage:!1};function n(e){return"string"==typeof e?e:null}function a(e,r,t){for(var n=new Set,a=0,o=r.length;a<o;a++){var s=e.resolve(r[a],"node");"string"==typeof s&&n.add(s)}for(r=r.slice(),a=0,o=t.length;a<o;a++){var f=e.resolve(s=t[a],"node");"string"!=typeof f||n.has(f)||(n.add(f),r.push(s))}return r}function o(r,t){for(var n in t)if("first"!==n&&"last"!==n&&"after"!==n&&"before"!==n){if(!(n in r))return!1;var a=r[n],o=t[n];if(typeof a!=typeof o||"object"!=typeof a?a!==o:e(a)!==e(o))return!1}for(var s in r)if("first"!==s&&"last"!==s&&"after"!==s&&"before"!==s&&!(s in t))return!1;return!0}function s(e,r,a){var o=n(e.resolveFieldByKey(r,a));if(!o)return null;if(r=e.resolve(o,"__typename"),a=e.resolve(o,"edges")||[],"string"!=typeof r)return null;r={__typename:r,edges:a,pageInfo:t};var s=e.resolve(o,"pageInfo");if("string"==typeof s){o=n(e.resolve(s,"__typename"));var f=n(e.resolve(s,"endCursor")),i=n(e.resolve(s,"startCursor")),u=e.resolve(s,"hasNextPage");s=e.resolve(s,"hasPreviousPage"),null===(o=r.pageInfo={__typename:"string"==typeof o?o:"PageInfo",hasNextPage:"boolean"==typeof u?u:!!f,hasPreviousPage:"boolean"==typeof s?s:!!i,endCursor:f,startCursor:i}).endCursor&&(f=a[a.length-1])&&(f=e.resolve(f,"cursor"),o.endCursor=n(f)),null===o.startCursor&&(a=a[0])&&(e=e.resolve(a,"cursor"),o.startCursor=n(e))}return r}function f(e){void 0===e&&(e={});var f=e.mergeMode||"inwards";return function(e,i,u,l){var p=l.fieldName,g=u.inspectFields(e=l.parentKey).filter((function(e){return e.fieldName===p})),v=g.length;if(0!==v){for(var d=null,y=[],m=[],h=r({},t),_=0;_<v;_++){var c=g[_],P=c.fieldKey;null!==(c=c.arguments)&&o(i,c)&&null!==(P=s(u,e,P))&&("inwards"===f&&"number"==typeof c.last&&"number"==typeof c.first?(h=P.edges.slice(0,c.first+1),c=P.edges.slice(-c.last),y=a(u,y,h),m=a(u,c,m),h=P.pageInfo):c.after?(y=a(u,y,P.edges),h.endCursor=P.pageInfo.endCursor,h.hasNextPage=P.pageInfo.hasNextPage):c.before?(m=a(u,P.edges,m),h.startCursor=P.pageInfo.startCursor,h.hasPreviousPage=P.pageInfo.hasPreviousPage):("number"==typeof c.last?m=a(u,m,P.edges):y=a(u,y,P.edges),h=P.pageInfo),P.pageInfo.__typename!==h.__typename&&(h.__typename=P.pageInfo.__typename),d!==P.__typename&&(d=P.__typename))}if("string"==typeof d){if(!n(u.resolve(e,p,i))){if(!l.store.schema)return;l.partial=!0}return{__typename:d,edges:"inwards"===f?a(u,y,m):a(u,m,y),pageInfo:{__typename:h.__typename,endCursor:h.endCursor,startCursor:h.startCursor,hasNextPage:h.hasNextPage,hasPreviousPage:h.hasPreviousPage}}}}}}function i(r){function t(r,t){for(var o in t)if(o!==n&&o!==a){if(!(o in r))return!1;var s=r[o],f=t[o];if(typeof s!=typeof f||"object"!=typeof s?s!==f:e(s)!==e(f))return!1}for(var i in r)if(i!==n&&i!==a&&!(i in t))return!1;return!0}void 0===r&&(r={});var n=r.offsetArgument;void 0===n&&(n="skip");var a=r.limitArgument;return void 0===a&&(a="limit"),function(e,r,a,o){var s=o.fieldName,f=a.inspectFields(e=o.parentKey).filter((function(e){return e.fieldName===s})),i=f.length;if(0!==i){for(var u=new Set,l=[],p=null,g=0;g<i;g++){var v=f[g],d=v.fieldKey;if(null!==(v=v.arguments)&&t(r,v)&&(d=a.resolveFieldByKey(e,d),v=v[n],null!==d&&0!==d.length&&"number"==typeof v)){if(!p||v>p)for(p=0;p<d.length;p++){var y=d[p];u.has(y)||(l.push(y),u.add(y))}else{for(p=[],y=0;y<d.length;y++){var m=d[y];u.has(m)||(p.push(m),u.add(m))}l=p.concat(l)}p=v}}if(a.resolve(e,s,r))return l;if(o.store.schema)return o.partial=!0,l}}}export{f as relayPagination,i as simplePagination};
//# sourceMappingURL=urql-exchange-graphcache-extras.min.mjs.map
